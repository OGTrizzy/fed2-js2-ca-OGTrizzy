import{h,A as i}from"./style-Djx7_ml-.js";const l=localStorage.getItem("accessToken");async function f(s){const a=`${i}/${s}`;try{const o=localStorage.getItem("accessToken");if(!o)throw new Error("User is not authenticated");const r=h();r.append("Authorization",`Bearer ${o}`);const t=await fetch(a,{method:"GET",headers:r});if(!t.ok)throw new Error("Failed to get post");const e=await t.json();return console.log("Fetched Posts:",e),e}catch(o){throw console.error("Error fetching post:",o),o}}async function u(s=12,a=1,o){let r=`${i}?limit=${s}&page=${a}`;try{const t=h();t.append("Authorization",`Bearer ${l}`);const e=await fetch(r,{method:"GET",headers:t}),d=await e.text();if(!e.ok){const n=`failed to fetch posts: ${e.status} - ${e.statusText}`;throw new Error(n)}const c=JSON.parse(d);return c.data.sort((n,p)=>new Date(p.updated)-new Date(n.updated)),c}catch(t){throw console.error("error:",t),t}}export{f as a,u as r};
